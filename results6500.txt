burn_N = 100_000
SEED=1111
N=100_000


julia> @benchmark mh_serial_naive(Float32(0.0), N, burn_N, ff)
BenchmarkTools.Trial:
  memory estimate:  390.70 KiB
  allocs estimate:  2
  --------------
  minimum time:     33.758 ms (0.00% GC)
  median time:      33.934 ms (0.00% GC)
  mean time:        34.029 ms (0.05% GC)
  maximum time:     36.588 ms (7.36% GC)
  --------------
  samples:          147
  evals/sample:     1

julia>     @benchmark mh_serial_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  410.17 KiB
  allocs estimate:  10
  --------------
  minimum time:     20.424 ms (0.00% GC)
  median time:      20.571 ms (0.00% GC)
  mean time:        20.667 ms (0.11% GC)
  maximum time:     24.043 ms (11.71% GC)
  --------------
  samples:          243
  evals/sample:     1

julia>     @benchmark mh_threaded_naive(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  27.86 MiB
  allocs estimate:  1599525
  --------------
  minimum time:     45.646 ms (0.00% GC)
  median time:      48.019 ms (0.00% GC)
  mean time:        48.335 ms (2.48% GC)
  maximum time:     57.285 ms (6.26% GC)
  --------------
  samples:          104
  evals/sample:     1

julia>     @benchmark mh_threaded_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  492.23 KiB
  allocs estimate:  83
  --------------
  minimum time:     13.221 ms (0.00% GC)
  median time:      13.884 ms (0.00% GC)
  mean time:        13.881 ms (0.23% GC)
  maximum time:     17.761 ms (21.35% GC)
  --------------
  samples:          361
  evals/sample:     1

julia>

N = 1_000_000

julia>     @benchmark mh_serial_naive(Float32(0.0), N, burn_N, ff)
BenchmarkTools.Trial:
  memory estimate:  3.81 MiB
  allocs estimate:  2
  --------------
  minimum time:     184.667 ms (0.00% GC)
  median time:      185.299 ms (0.00% GC)
  mean time:        185.728 ms (0.12% GC)
  maximum time:     188.643 ms (1.77% GC)
  --------------
  samples:          27
  evals/sample:     1

julia>     @benchmark mh_serial_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  3.83 MiB
  allocs estimate:  10
  --------------
  minimum time:     109.194 ms (0.00% GC)
  median time:      109.580 ms (0.00% GC)
  mean time:        110.012 ms (0.18% GC)
  maximum time:     118.959 ms (2.12% GC)
  --------------
  samples:          46
  evals/sample:     1

julia>     @benchmark mh_threaded_naive(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  127.43 MiB
  allocs estimate:  6999526
  --------------
  minimum time:     155.144 ms (7.48% GC)
  median time:      159.216 ms (8.80% GC)
  mean time:        158.993 ms (8.24% GC)
  maximum time:     161.242 ms (8.91% GC)
  --------------
  samples:          32
  evals/sample:     1

julia>     @benchmark mh_threaded_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  3.91 MiB
  allocs estimate:  83
  --------------
  minimum time:     37.116 ms (0.00% GC)
  median time:      37.862 ms (0.00% GC)
  mean time:        38.162 ms (0.71% GC)
  maximum time:     41.812 ms (9.39% GC)
  --------------
  samples:          131
  evals/sample:     1

julia>


N = 10_000_000


julia>     @benchmark mh_serial_naive(Float32(0.0), N, burn_N, ff)
BenchmarkTools.Trial:
  memory estimate:  38.15 MiB
  allocs estimate:  2
  --------------
  minimum time:     1.700 s (0.02% GC)
  median time:      1.701 s (0.00% GC)
  mean time:        1.700 s (0.01% GC)
  maximum time:     1.701 s (0.00% GC)
  --------------
  samples:          3
  evals/sample:     1

julia>     @benchmark mh_serial_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  38.17 MiB
  allocs estimate:  10
  --------------
  minimum time:     998.157 ms (0.03% GC)
  median time:      999.525 ms (0.01% GC)
  mean time:        1.002 s (0.37% GC)
  maximum time:     1.017 s (1.87% GC)
  --------------
  samples:          6
  evals/sample:     1

julia>     @benchmark mh_threaded_naive(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  1.10 GiB
  allocs estimate:  60999525
  --------------
  minimum time:     1.217 s (9.75% GC)
  median time:      1.261 s (11.79% GC)
  mean time:        1.285 s (13.63% GC)
  maximum time:     1.400 s (20.32% GC)
  --------------
  samples:          4
  evals/sample:     1

julia>     @benchmark mh_threaded_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  38.25 MiB
  allocs estimate:  83
  --------------
  minimum time:     275.218 ms (0.00% GC)
  median time:      277.776 ms (0.05% GC)
  mean time:        286.041 ms (3.07% GC)
  maximum time:     341.368 ms (19.02% GC)
  --------------
  samples:          18
  evals/sample:     1

julia>

N = 100_000_000

julia>     @benchmark mh_serial_naive(Float32(0.0), N, burn_N, ff)
BenchmarkTools.Trial:
  memory estimate:  381.47 MiB
  allocs estimate:  2
  --------------
  minimum time:     16.855 s (0.00% GC)
  median time:      16.855 s (0.00% GC)
  mean time:        16.855 s (0.00% GC)
  maximum time:     16.855 s (0.00% GC)
  --------------
  samples:          1
  evals/sample:     1

julia>     @benchmark mh_serial_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  381.49 MiB
  allocs estimate:  10
  --------------
  minimum time:     9.910 s (0.00% GC)
  median time:      9.910 s (0.00% GC)
  mean time:        9.910 s (0.00% GC)
  maximum time:     9.910 s (0.00% GC)
  --------------
  samples:          1
  evals/sample:     1

julia>     @benchmark mh_threaded_naive(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  10.82 GiB
  allocs estimate:  600999527
  --------------
  minimum time:     12.768 s (13.26% GC)
  median time:      12.768 s (13.26% GC)
  mean time:        12.768 s (13.26% GC)
  maximum time:     12.768 s (13.26% GC)
  --------------
  samples:          1
  evals/sample:     1

julia>     @benchmark mh_threaded_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  381.57 MiB
  allocs estimate:  83
  --------------
  minimum time:     2.654 s (0.02% GC)
  median time:      2.658 s (0.01% GC)
  mean time:        2.658 s (0.01% GC)
  maximum time:     2.662 s (0.01% GC)
  --------------
  samples:          2
  evals/sample:     1

julia>

N = 1_000_000_000

julia>  @benchmark mh_serial_naive(Float32(0.0), N, burn_N, ff)
BenchmarkTools.Trial:
  memory estimate:  3.73 GiB
  allocs estimate:  2
  --------------
  minimum time:     168.437 s (0.00% GC)
  median time:      168.437 s (0.00% GC)
  mean time:        168.437 s (0.00% GC)
  maximum time:     168.437 s (0.00% GC)
  --------------
  samples:          1
  evals/sample:     1

julia>     @benchmark mh_serial_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  3.73 GiB
  allocs estimate:  10
  --------------
  minimum time:     100.263 s (0.00% GC)
  median time:      100.263 s (0.00% GC)
  mean time:        100.263 s (0.00% GC)
  maximum time:     100.263 s (0.00% GC)
  --------------
  samples:          1
  evals/sample:     1

  julia>     @benchmark mh_threaded_naive(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  108.05 GiB
  allocs estimate:  6000999528
  --------------
  minimum time:     122.639 s (11.97% GC)
  median time:      122.639 s (11.97% GC)
  mean time:        122.639 s (11.97% GC)
  maximum time:     122.639 s (11.97% GC)
  --------------
  samples:          1
  evals/sample:     1

  
julia>     @benchmark mh_threaded_optimized(Float32(0.0), N, burn_N, ff, SEED)
BenchmarkTools.Trial:
  memory estimate:  3.73 GiB
  allocs estimate:  84
  --------------
  minimum time:     28.668 s (0.00% GC)
  median time:      28.668 s (0.00% GC)
  mean time:        28.668 s (0.00% GC)
  maximum time:     28.668 s (0.00% GC)
  --------------
  samples:          1
  evals/sample:     1

